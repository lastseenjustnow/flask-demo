# Snippets

This directory contains snippets of code that can be used as building blocks
for your own tests.  While they don't represent a real life application they
can be compiled following the same instructions as the `MarketDataNotifier`
application.

## `EventGlossary`

This directory contains example code for building all messages that the SDK
will *create* and deliver to the application.  Messages generated by other
services (including infrastructure Bloomberg services like '//blp/apiauth' are
not shown here).

## `Resolver`

This directory contains two examples of interactions between an application and
the SDK.  The examples show service registration for a resolution service and
handling of a permission request.

## `RefData`

The `//blp/refdata` service is special in that the schema contains only
requests.  The schema for the responses is dynamically created based on the
data in the request.  Applications cannot just use the schema of the service to
create mock responses in their own tests.  Instead, each test needs to create
the schema that corresponds to the response that will be delivered.

# How to build and run?

All the examples can be build as a single `cmake` project by running:

1. `mkdir build`
2. `cd build`
3. `cmake -DCMAKE_PREFIX_PATH=<path to directory containing blpapiConfig.cmake file> ..`

If you don't have access to internet provide the path to googletest source
directory and use the following command:

   `cmake -DCMAKE_PREFIX_PATH=<...> -DGTEST_SRC_DIR=<path to directory containing googletest src> ..`

4. `cmake --build . --config Release`. By default test cases are built in `Release` configuration.
5. `ctest` for platform other than Windows. For Windows use `ctest -C Release`

Configuration can be changed by passing `-DCMAKE_BUILD_TYPE=<desired-config>`
in step 3., and `--config <desired-config>` in step 4. Same configuration needs
to be passed to `ctest` in step 5.

